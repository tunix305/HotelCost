(function(){"use strict";var e={5822:function(e,a,t){var l=t(5130),o=t(6768);function s(e,a,t,l,s,i){const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(n)}var i={name:"App",mounted(){console.log("✅ App.vue cargado")}},n=t(1241);const r=(0,n.A)(i,[["render",s]]);var c=r,d=t(1387),u=t(4232),m=t(3902),b=t(6450),h=t(554),f=t(2729),p=t(1606),k=t(697),g=t(3745),v=t(1772),_=t(1560),F=t(3813),w=t(1720),x=t(5126),y=t(7973),C=t(6554),L=t(3948);const E={class:"help-links mt-4 text-center"};function V(e,a,t,s,i,n){return(0,o.uX)(),(0,o.Wv)(b.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{class:"login-container d-flex justify-center align-center",fluid:""},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"habitaciones-style-card pa-8",elevation:"10","max-width":"500"},{default:(0,o.k6)((()=>[(0,o.bF)(p.r,{class:"text-h6 font-weight-bold text-center mb-4 text-white"},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)(" Iniciar Sesión ")]))),_:1}),(0,o.bF)(x.y,{src:m,contain:"",height:"70",class:"mx-auto mb-4"}),(0,o.bF)(_.n,{onSubmit:(0,l.D$)(n.login,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(L.W,{modelValue:i.username,"onUpdate:modelValue":a[0]||(a[0]=e=>i.username=e),label:"Usuario",variant:"outlined",density:"comfortable",class:"custom-field",required:""},null,8,["modelValue"]),(0,o.bF)(L.W,{modelValue:i.password,"onUpdate:modelValue":a[1]||(a[1]=e=>i.password=e),label:"Contraseña",type:"password",variant:"outlined",density:"comfortable",class:"custom-field",required:""},null,8,["modelValue"]),n.isAdmin?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(y.d4,{key:0,modelValue:i.role,"onUpdate:modelValue":a[2]||(a[2]=e=>i.role=e),items:i.roles,label:"Rol",variant:"outlined",density:"comfortable",class:"custom-field",disabled:n.isAdmin,required:!n.isAdmin},null,8,["modelValue","items","disabled","required"])),(0,o.bF)(h.D,{class:"login-button mt-4",block:"",type:"submit",size:"large"},{default:(0,o.k6)((()=>a[13]||(a[13]=[(0,o.eW)("INICIAR SESIÓN")]))),_:1})])),_:1},8,["onSubmit"]),(0,o.Lk)("div",E,[(0,o.Lk)("span",{onClick:a[3]||(a[3]=e=>i.showErrorDialog=!0),class:"help-text"},"¿Tienes algún error?"),a[14]||(a[14]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("span",{onClick:a[4]||(a[4]=e=>i.showPasswordDialog=!0),class:"help-text"}," ¿Olvidaste la contraseña? ")])])),_:1}),(0,o.bF)(C.K,{modelValue:i.snackbar,"onUpdate:modelValue":a[5]||(a[5]=e=>i.snackbar=e),timeout:"3000",color:"error"},{default:(0,o.k6)((()=>[(0,o.eW)((0,u.v_)(i.snackbarMessage),1)])),_:1},8,["modelValue"]),(0,o.bF)(v.p,{modelValue:i.showErrorDialog,"onUpdate:modelValue":a[7]||(a[7]=e=>i.showErrorDialog=e),"max-width":"400"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(p.r,{class:"headline"},{default:(0,o.k6)((()=>a[15]||(a[15]=[(0,o.eW)("Soporte")]))),_:1}),(0,o.bF)(k.O,null,{default:(0,o.k6)((()=>a[16]||(a[16]=[(0,o.eW)("Comunícate con uno de nuestros asesores.")]))),_:1}),(0,o.bF)(g.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(w.h),(0,o.bF)(h.D,{color:"primary",text:"",onClick:a[6]||(a[6]=e=>i.showErrorDialog=!1)},{default:(0,o.k6)((()=>a[17]||(a[17]=[(0,o.eW)("Cerrar")]))),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(v.p,{modelValue:i.showPasswordDialog,"onUpdate:modelValue":a[9]||(a[9]=e=>i.showPasswordDialog=e),"max-width":"400"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(p.r,{class:"headline"},{default:(0,o.k6)((()=>a[18]||(a[18]=[(0,o.eW)("Recuperar Contraseña")]))),_:1}),(0,o.bF)(k.O,null,{default:(0,o.k6)((()=>a[19]||(a[19]=[(0,o.eW)("Contacta al administrador para recuperar tu acceso.")]))),_:1}),(0,o.bF)(g.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(w.h),(0,o.bF)(h.D,{color:"primary",text:"",onClick:a[8]||(a[8]=e=>i.showPasswordDialog=!1)},{default:(0,o.k6)((()=>a[20]||(a[20]=[(0,o.eW)("Cerrar")]))),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(v.p,{modelValue:i.showRoleErrorDialog,"onUpdate:modelValue":a[11]||(a[11]=e=>i.showRoleErrorDialog=e),"max-width":"400"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(p.r,{class:"headline"},{default:(0,o.k6)((()=>a[21]||(a[21]=[(0,o.eW)("Rol Erróneo")]))),_:1}),(0,o.bF)(k.O,null,{default:(0,o.k6)((()=>a[22]||(a[22]=[(0,o.eW)("El rol seleccionado no corresponde al usuario ingresado.")]))),_:1}),(0,o.bF)(g.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(w.h),(0,o.bF)(h.D,{color:"primary",text:"",onClick:a[10]||(a[10]=e=>i.showRoleErrorDialog=!1)},{default:(0,o.k6)((()=>a[23]||(a[23]=[(0,o.eW)("Cerrar")]))),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}t(4114);var I=t(4373),A={name:"LoginView",data(){return{username:"",password:"",role:"",roles:["Recepcionista","Empleado de Limpieza","Supervisor de Mantenimiento","Gerente de Operaciones"],snackbar:!1,snackbarMessage:"",showErrorDialog:!1,showPasswordDialog:!1,showRoleErrorDialog:!1}},computed:{isAdmin(){return"petra"===this.username.toLowerCase()},userRoleMapping(){return{petra:"Administrador",manuel:"Supervisor de Mantenimiento",edgar:"Recepcionista",luis:"Empleado de Limpieza",wilver:"Gerente de Operaciones"}}},methods:{async login(){const e=this.username.toLowerCase();if(!this.username||!this.password||!this.isAdmin&&!this.role)return this.snackbarMessage="Por favor, completa todos los campos.",void(this.snackbar=!0);if(this.userRoleMapping[e]&&this.userRoleMapping[e]!==(this.isAdmin?"Administrador":this.role))this.showRoleErrorDialog=!0;else try{const a=await I.A.post("https://www.hotelcost.somee.com/api/Users/login",{username:this.username,password:this.password,role:this.isAdmin?"Administrador":this.role});localStorage.setItem("token",a.data.token),localStorage.setItem("loggedInUser",e),localStorage.setItem("userRole",this.isAdmin?"Administrador":this.role),this.$router.push({path:"/home",query:{username:this.username,role:this.isAdmin?"Administrador":this.role}})}catch(a){console.error("❌ Error en login:",a.response||a),this.snackbarMessage=a.response?.data?.message||"Error en autenticación",this.snackbar=!0}}}};const R=(0,n.A)(A,[["render",V],["__scopeId","data-v-627f08f4"]]);var D=R,S=t(144),W=t(3524),H=t(3416),U=t(3462),O=t(9669),T=t(7009),$=t(6498),M=t(7294),q=t(373),B=t(6700),N=t(9562);const P={class:"d-flex align-center mb-3 pb-2 border-bottom"},j={class:"text-caption grey--text"},z={class:"d-flex justify-space-between align-start w-100"},K={class:"text-body-1 font-weight-medium mb-1 text-primary"},X={class:"d-flex flex-wrap text-caption grey--text"},G={class:"d-flex align-center gap-2"},J={key:1,class:"text-center my-8"},Y={class:"d-flex justify-space-between align-center mt-5 pt-3 border-top"},Q="https://www.hotelcost.somee.com/api";var Z={__name:"NavbarComponent",setup(e){const a=t(3902),l=(0,d.rd)(),s=(0,S.KR)(!1),i=(0,S.KR)(!1),n=(0,S.KR)(!1),r=(0,S.KR)(localStorage.getItem("loggedInUser")||"Invitado"),c=(0,S.KR)(localStorage.getItem("userRole")||"Sin rol asignado"),b=(0,S.KR)([]),_=(0,S.KR)([]),y={Administrador:[{label:"Habitaciones",path:"/habitaciones"},{label:"Reservaciónes",path:"/resevaciones"},{label:"Clientes",path:"/clientes"},{label:"Tareas",path:"/tareas"},{label:"Informes",path:"/informes"}],"Empleado de Limpieza":[{label:"Tareas",path:"/tareas"}],"Supervisor de Mantenimiento":[{label:"Habitaciones",path:"/habitaciones"},{label:"Tareas",path:"/tareas"}],"Gerente de Operaciones":[{label:"Habitaciones",path:"/habitaciones"},{label:"Tareas",path:"/tareas"},{label:"Informes",path:"/informes"}],Recepcionista:[{label:"Habitaciones",path:"/habitaciones"},{label:"Reservaciónes",path:"/resevaciones"},{label:"Clientes",path:"/clientes"}]},C=(0,S.KR)(`usuariosfotos/${r.value}.png`);function L(e){l.push(e)}async function E(e){const a=_.value[e];try{await I.A.delete(`${Q}/Tareas/${a.numero_Tarea}`),_.value.splice(e,1)}catch(t){console.error("❌ Error al eliminar tarea:",t),alert("Error al eliminar la tarea. Intenta de nuevo.")}}function V(e){e&&e.target&&(e.target.src="usuariosfotos/manuel.png")}function A(){localStorage.removeItem("loggedInUser"),localStorage.removeItem("userRole"),l.push("/")}return(0,o.sV)((async()=>{c.value&&y[c.value]&&(b.value=y[c.value]);const e=localStorage.getItem("loggedInUser")?.trim();if(["Administrador","Empleado de Limpieza","Supervisor de Mantenimiento","Recepcionista","Gerente de Operaciones"].includes(c.value))try{const a=await I.A.get(`${Q}/Tareas/pendientes/${e}`);_.value=a.data||[]}catch(a){console.warn("❌ Error al obtener tareas pendientes:",a.message)}})),(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(W.z,{app:"",color:"#1a1a1a",dark:"",height:"100",class:"custom-navbar"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{class:"d-flex align-center justify-center px-0"},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo",height:"75",width:"75",class:"mr-6 d-none d-md-flex"}),(0,o.bF)(h.D,{icon:"",class:"mr-6 d-flex d-md-none",onClick:t[0]||(t[0]=e=>n.value=!0)},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo",height:"50",width:"50"})])),_:1}),(0,o.bF)(B.M,{class:"d-none d-md-flex"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.value,(e=>((0,o.uX)(),(0,o.Wv)(h.D,{key:e.label,text:"",class:"nav-button mx-2",onClick:a=>L(e.path)},{default:(0,o.k6)((()=>[(0,o.eW)((0,u.v_)(e.label),1)])),_:2},1032,["onClick"])))),128))])),_:1}),(0,o.bF)(w.h),(0,o.bF)(h.D,{icon:"",class:"notification-btn mr-4",onClick:t[1]||(t[1]=e=>i.value=!0)},{default:(0,o.k6)((()=>[(0,o.bF)(O.w,{size:"30",color:"white"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("mdi-bell-outline")]))),_:1}),_.value.length>0?((0,o.uX)(),(0,o.Wv)(U.Q,{key:0,content:_.value.length,color:"red accent-4",overlap:"",bordered:"",class:"notification-badge"},null,8,["content"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(H.y,{size:"80",class:"profile-avatar",onClick:t[2]||(t[2]=e=>s.value=!0)},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:C.value,alt:"Usuario",onError:V},null,8,["src"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(q.e,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=e=>n.value=e),app:"",temporary:"",class:"d-flex d-md-none",width:"240"},{default:(0,o.k6)((()=>[(0,o.bF)(T.x8,{nav:"",dense:""},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(b.value,((e,a)=>((0,o.uX)(),(0,o.Wv)($.g,{key:a,onClick:()=>{L(e.path),n.value=!1}},{default:(0,o.k6)((()=>[(0,o.bF)(M.U,{class:"text-h6"},{default:(0,o.k6)((()=>[(0,o.eW)((0,u.v_)(e.label),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(v.p,{modelValue:i.value,"onUpdate:modelValue":t[5]||(t[5]=e=>i.value=e),"max-width":"560",transition:"scale-transition",persistent:"",scrollable:""},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"rounded-xl elevation-12 pa-4",style:{background:"#fffdfc"}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",P,[(0,o.Lk)("div",null,[t[9]||(t[9]=(0,o.Lk)("h3",{class:"text-h6 font-weight-bold"},"Tareas Pendientes",-1)),(0,o.Lk)("span",j,(0,u.v_)(_.value.length)+" tareas activas ",1)])]),(0,o.bF)(N.Yt,{group:""},{default:(0,o.k6)((()=>[_.value.length?((0,o.uX)(),(0,o.Wv)(T.x8,{key:0,class:"pa-0"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(_.value,((e,a)=>((0,o.uX)(),(0,o.Wv)($.g,{key:a,class:"rounded-lg mb-3",style:{background:"#f4f5fa"}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",z,[(0,o.Lk)("div",null,[(0,o.Lk)("div",K,(0,u.v_)(e.descripcion),1),(0,o.Lk)("div",X,[(0,o.bF)(O.w,{size:"16",class:"mr-1"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("mdi-bed")]))),_:1}),(0,o.eW)(" Hab: "+(0,u.v_)(e.numero_Habitacion)+" ",1),(0,o.bF)(O.w,{size:"16",class:"ml-4 mr-1"},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)("mdi-alert")]))),_:1}),(0,o.eW)(" Prioridad: "+(0,u.v_)(e.nivel_Prioridad),1)])]),(0,o.Lk)("div",G,[(0,o.bF)(h.D,{icon:"",class:"btn-circular gold-icon",onClick:e=>E(a),title:"Marcar como hecha"},{default:(0,o.k6)((()=>[(0,o.bF)(O.w,{color:"#d4af37",size:"26"},{default:(0,o.k6)((()=>t[12]||(t[12]=[(0,o.eW)("mdi-check")]))),_:1})])),_:2},1032,["onClick"])])])])),_:2},1024)))),128))])),_:1})):((0,o.uX)(),(0,o.CE)("div",J,[(0,o.bF)(O.w,{color:"green",size:"48"},{default:(0,o.k6)((()=>t[13]||(t[13]=[(0,o.eW)("mdi-check-all")]))),_:1}),t[14]||(t[14]=(0,o.Lk)("p",{class:"text-subtitle-1 mt-2"},"¡No tienes tareas pendientes!",-1)),t[15]||(t[15]=(0,o.Lk)("p",{class:"text-caption grey--text"},"Disfruta tu tiempo libre ✨",-1))]))])),_:1}),(0,o.Lk)("div",Y,[t[17]||(t[17]=(0,o.Lk)("span",{class:"text-caption grey--text"},"Actualizado: justo ahora",-1)),(0,o.bF)(h.D,{onClick:t[4]||(t[4]=e=>i.value=!1),class:"boton-cerrar-gold"},{default:(0,o.k6)((()=>t[16]||(t[16]=[(0,o.eW)(" Cerrar ")]))),_:1})])])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(v.p,{modelValue:s.value,"onUpdate:modelValue":t[7]||(t[7]=e=>s.value=e),"max-width":"400",persistent:""},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"logout-card rounded-xl"},{default:(0,o.k6)((()=>[(0,o.bF)(p.r,{class:"headline d-flex align-center justify-center"},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:(0,S.R1)(a),alt:"Logo",height:"40",class:"mr-2"},null,8,["src"]),t[18]||(t[18]=(0,o.eW)(" ¿Cerrar sesión? "))])),_:1}),(0,o.bF)(k.O,{class:"text-center"},{default:(0,o.k6)((()=>t[19]||(t[19]=[(0,o.eW)(" Puedes volver a iniciar sesión en cualquier momento. ")]))),_:1}),(0,o.bF)(g.S,{class:"dialog-actions"},{default:(0,o.k6)((()=>[(0,o.bF)(h.D,{class:"dialog-button logout rounded-pill",onClick:A},{default:(0,o.k6)((()=>t[20]||(t[20]=[(0,o.eW)(" Cerrar sesión ")]))),_:1}),(0,o.bF)(h.D,{class:"dialog-button cancel rounded-pill",onClick:t[6]||(t[6]=e=>s.value=!1)},{default:(0,o.k6)((()=>t[21]||(t[21]=[(0,o.eW)(" Cancelar ")]))),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64))}};const ee=(0,n.A)(Z,[["__scopeId","data-v-1abbeb99"]]);var ae=ee;const te={class:"background-container"},le={class:"text-title mb-2"};var oe={__name:"HomeView",setup(e){const a=(0,S.KR)("");(0,o.sV)((()=>{a.value=localStorage.getItem("loggedInUser")||"Usuario"}));const t=(0,o.EW)((()=>{const e=a.value;return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}));return(e,a)=>((0,o.uX)(),(0,o.Wv)(b.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(ae),(0,o.Lk)("div",te,[(0,o.bF)(f.J,{class:"welcome-card",elevation:"10"},{default:(0,o.k6)((()=>[(0,o.bF)(k.O,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.Lk)("h2",le,"¡Bienvenido, "+(0,u.v_)(t.value)+"!",1),a[0]||(a[0]=(0,o.Lk)("p",{class:"text-subtitle"},"Nos alegra tenerte de vuelta en el sistema.",-1))])),_:1})])),_:1})])])),_:1}))}};const se=(0,n.A)(oe,[["__scopeId","data-v-c523cd50"]]);var ie=se,ne=t(8332),re=t(7511),ce=t(6756),de=t(5526),ue=t(8477);const me={class:"section-header disponible"},be={class:"room-number"},he={class:"estado-text"},fe={class:"section-header no-disponible"},pe={class:"room-number"},ke={class:"estado-text"};function ge(e,a,t,l,s,i){const n=(0,o.g2)("v-list-item-avatar"),r=(0,o.g2)("v-list-item-content"),c=(0,o.g2)("v-list-item-icon"),d=(0,o.g2)("v-simple-table");return(0,o.uX)(),(0,o.Wv)(b.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(W.z,{app:"",color:"#1a1a1a",dark:"",height:"100"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:"",class:"d-flex align-center justify-space-between px-4"},{default:(0,o.k6)((()=>[(0,o.bF)(ne.Z,{class:"d-sm-none d-md-none",onClick:a[0]||(a[0]=e=>s.drawer=!0)}),(0,o.bF)(ce.L,{class:"align-center flex-grow-1"},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"auto",class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo","max-width":"60","max-height":"60"})])),_:1}),(0,o.bF)(de.B,{cols:"auto",class:"d-flex align-center"},{default:(0,o.k6)((()=>a[4]||(a[4]=[(0,o.Lk)("h1",{class:"white--text text-h6 font-weight-bold mb-0"}," Gestión de Habitaciones ",-1)]))),_:1})])),_:1}),(0,o.bF)(ce.L,{class:"d-none d-sm-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(h.D,{class:"btn-historial mr-3",onClick:i.verHistorial},{default:(0,o.k6)((()=>a[5]||(a[5]=[(0,o.eW)(" HISTORIAL DE CAMBIOS ")]))),_:1},8,["onClick"]),(0,o.bF)(h.D,{class:"btn-regresar",onClick:i.goToHome},{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.eW)("REGRESAR")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(q.e,{modelValue:s.drawer,"onUpdate:modelValue":a[3]||(a[3]=e=>s.drawer=e),app:"",temporary:"",class:"d-sm-flex d-md-flex d-lg-none"},{default:(0,o.k6)((()=>[(0,o.bF)(T.x8,{nav:"",dense:""},{default:(0,o.k6)((()=>[(0,o.bF)($.g,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,null,{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo"})])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.U,{class:"font-weight-bold"},{default:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.eW)(" HotelCost ")]))),_:1})])),_:1})])),_:1}),(0,o.bF)(re.G,{class:"my-2"}),(0,o.bF)($.g,{onClick:a[1]||(a[1]=e=>{i.verHistorial,s.drawer=!1})},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(O.w,null,{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.eW)("mdi-history")]))),_:1})])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.U,null,{default:(0,o.k6)((()=>a[9]||(a[9]=[(0,o.eW)("Historial de Cambios")]))),_:1})])),_:1})])),_:1}),(0,o.bF)($.g,{onClick:a[2]||(a[2]=e=>{i.goToHome,s.drawer=!1})},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(O.w,null,{default:(0,o.k6)((()=>a[10]||(a[10]=[(0,o.eW)("mdi-arrow-left-bold")]))),_:1})])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.U,null,{default:(0,o.k6)((()=>a[11]||(a[11]=[(0,o.eW)("Regresar")]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(ue.Y,{class:"habitaciones-container"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:""},{default:(0,o.k6)((()=>[(0,o.bF)(ce.L,{dense:"",justify:"center",align:"start",class:"section-row"},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"12",md:"5"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"section-card pa-6"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",me,[(0,o.bF)(O.w,{left:""},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)("mdi-checkbox-marked-circle")]))),_:1}),(0,o.eW)(" Disponibles ("+(0,u.v_)(i.habitacionesDisponibles.length)+") ",1)]),(0,o.bF)(d,{class:"custom-table larger-table"},{default:(0,o.k6)((()=>[a[13]||(a[13]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"header-cell header-title"}," NÚMERO DE HABITACIÓN "),(0,o.Lk)("th",{class:"header-cell header-title"},"ESTADO")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.habitacionesDisponibles,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id_Habitacion},[(0,o.Lk)("td",be,(0,u.v_)(e.numero_Habitacion),1),(0,o.Lk)("td",he,(0,u.v_)(e.estado_Actual),1)])))),128))])])),_:1})])),_:1})])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"5"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"section-card pa-6"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",fe,[(0,o.bF)(O.w,{left:""},{default:(0,o.k6)((()=>a[14]||(a[14]=[(0,o.eW)("mdi-close-circle")]))),_:1}),(0,o.eW)(" No disponibles ("+(0,u.v_)(i.habitacionesNoDisponibles.length)+") ",1)]),(0,o.bF)(d,{class:"custom-table larger-table"},{default:(0,o.k6)((()=>[a[15]||(a[15]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"header-cell header-title"}," NÚMERO DE HABITACIÓN "),(0,o.Lk)("th",{class:"header-cell header-title"},"ESTADO")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.habitacionesNoDisponibles,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id_Habitacion},[(0,o.Lk)("td",pe,(0,u.v_)(e.numero_Habitacion),1),(0,o.Lk)("td",ke,(0,u.v_)(e.estado_Actual),1)])))),128))])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}t(8992),t(4520);var ve={name:"HabitacionesView",data(){return{habitaciones:[],username:"",role:"",drawer:!1}},computed:{habitacionesDisponibles(){return this.habitaciones.filter((e=>"disponible"===e.estado_Actual.toLowerCase()))},habitacionesNoDisponibles(){return this.habitaciones.filter((e=>"disponible"!==e.estado_Actual.toLowerCase()))}},methods:{goToHome(){this.$router.push({path:"/home",query:{username:this.username,role:this.role}})},verHistorial(){this.$router.push({path:"/historial-habitaciones",query:{username:this.username,role:this.role}})},async cargarHabitaciones(){try{const e=await I.A.get("https://hotelcost.somee.com/api/Habitaciones/EstadosActualizados");this.habitaciones=e.data}catch(e){console.error("❌ Error al cargar habitaciones:",e)}}},mounted(){const e=this.$route.query;this.username=e.username||"Invitado",this.role=e.role||"Sin rol asignado",this.cargarHabitaciones()}};const _e=(0,n.A)(ve,[["render",ge],["__scopeId","data-v-31c5faa6"]]);var Fe=_e,we=t(3740);function xe(e,a,t,s,i,n){return(0,o.uX)(),(0,o.Wv)(b.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(W.z,{app:"",color:"#1a1a1a",dark:"",height:"100"},{default:(0,o.k6)((()=>[(0,o.bF)(ce.L,{"no-gutters":"",align:"center",class:"w-100"},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"2",class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo",contain:"","max-width":"60"})])),_:1}),(0,o.bF)(de.B,{cols:"8",class:"text-center"},{default:(0,o.k6)((()=>a[5]||(a[5]=[(0,o.Lk)("span",{class:"white--text font-weight-bold text-h6"}," Gestión de Tareas ",-1)]))),_:1}),(0,o.bF)(de.B,{cols:"2",class:"d-flex justify-end"},{default:(0,o.k6)((()=>[(0,o.bF)(h.D,{class:"custom-back-btn",onClick:n.goToHome},{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.eW)(" REGRESAR ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(ue.Y,{class:"tareas-fondo pa-0"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:"",class:"d-flex justify-center align-start"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"tarea-card",elevation:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(_.n,{onSubmit:(0,l.D$)(n.actualizarEstado,["prevent"])},{default:(0,o.k6)((()=>[a[8]||(a[8]=(0,o.Lk)("h2",{class:"white--text text-center mb-6"}," Tareas Pendientes y Estado de Habitaciones ",-1)),(0,o.bF)(y.d4,{modelValue:i.selectedRoom,"onUpdate:modelValue":a[0]||(a[0]=e=>i.selectedRoom=e),items:i.rooms,"item-title":"nombre","item-value":"numero",label:"Número de Habitación",outlined:"",dense:"",class:"custom-field",required:""},null,8,["modelValue","items"]),(0,o.bF)(y.d4,{modelValue:i.selectedStatus,"onUpdate:modelValue":a[1]||(a[1]=e=>i.selectedStatus=e),items:i.statuses,label:"Estado de la Habitación",outlined:"",dense:"",class:"custom-field",required:""},null,8,["modelValue","items"]),(0,o.bF)(y.d4,{modelValue:i.selectedPriority,"onUpdate:modelValue":a[2]||(a[2]=e=>i.selectedPriority=e),items:i.priorities,label:"Prioridad de la Habitación",outlined:"",dense:"",class:"custom-field",required:""},null,8,["modelValue","items"]),(0,o.bF)(y.d4,{modelValue:i.selectedUser,"onUpdate:modelValue":a[3]||(a[3]=e=>i.selectedUser=e),items:i.asignables,"item-title":"nombre","item-value":"id",label:"Asignar tarea a",outlined:"",dense:"",class:"custom-field",required:""},null,8,["modelValue","items"]),(0,o.bF)(we.J,{modelValue:i.taskDescription,"onUpdate:modelValue":a[4]||(a[4]=e=>i.taskDescription=e),label:"Descripción de la Tarea",outlined:"",dense:"",rows:"3",class:"custom-field",required:""},null,8,["modelValue"]),(0,o.bF)(h.D,{block:"",class:"custom-reservar-btn mt-6",type:"submit"},{default:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.eW)(" ACTUALIZAR ESTADO ")]))),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})}t(2577),t(1454);var ye={name:"TareasView",data(){return{rooms:[],asignables:[],statuses:["En Mantenimiento","Limpieza"],priorities:["Alta","Media","Baja"],selectedRoom:null,selectedStatus:null,selectedPriority:null,selectedUser:null,taskDescription:"",username:"",role:""}},methods:{goToHome(){this.$router.push({path:"/home",query:{username:this.username,role:this.role}})},async obtenerHabitaciones(){try{const e=await I.A.get("https://hotelcost.somee.com/api/Habitaciones/ListaSeleccion");this.rooms=e.data}catch(e){console.error("❌ Error al obtener habitaciones:",e),alert("No se pudieron cargar las habitaciones")}},async obtenerUsuariosAsignables(){try{const e=await I.A.get("https://hotelcost.somee.com/api/Users/Asignables");this.asignables=e.data.map((e=>({id:e.id,nombre:`${e.nombre} (${e.rol})`,username:e.username})))}catch(e){console.error("❌ Error al obtener usuarios asignables:",e),alert("No se pudieron cargar los usuarios asignables")}},async actualizarEstado(){if(!this.selectedRoom||!this.selectedStatus||!this.selectedPriority||!this.selectedUser||!this.taskDescription)return void alert("Por favor, completa todos los campos.");const e=this.asignables.find((e=>e.id===this.selectedUser)),a={numero_Tarea:0,descripcion:this.taskDescription,numero_Habitacion:parseInt(this.selectedRoom),estado_Habitacion:this.selectedStatus,nivel_Prioridad:this.selectedPriority,numero_Asignacion:parseInt(this.selectedUser),usuario_Asignado:e?.username||"desconocido"};try{const e=await I.A.post("https://hotelcost.somee.com/api/Tareas",a);alert(e.data.message||"✅ Tarea guardada correctamente"),this.selectedRoom=null,this.selectedStatus=null,this.selectedPriority=null,this.selectedUser=null,this.taskDescription=""}catch(t){console.error("❌ Error al guardar la tarea:",t),alert("❌ Ocurrió un error al guardar la tarea")}}},mounted(){const e=this.$route.query;this.username=e.username||"Invitado",this.role=e.role||"Sin rol asignado",this.obtenerHabitaciones(),this.obtenerUsuariosAsignables()}};const Ce=(0,n.A)(ye,[["render",xe],["__scopeId","data-v-5eaf3046"]]);var Le=Ce,Ee=t(1749),Ve=t(6329),Ie=t(6503);const Ae={class:"mb-8"},Re={class:"white--text text-h5"},De={class:"white--text text-h5"},Se={class:"white--text text-h5"},We={class:"mb-8"};var He={__name:"InformesView",setup(e){const a=(0,d.rd)(),t=(0,d.lq)(),s=(0,S.KR)(""),i=(0,S.KR)(""),n=(0,S.KR)(0),r=(0,S.KR)(0),c=(0,S.KR)(""),p=(0,S.KR)(""),k=(0,S.KR)(""),C=(0,S.KR)(null),E=(0,S.KR)(!1),V=(0,S.KR)(""),A=(0,S.KR)([]),R=[{text:"Tipo",value:"tipoInforme",sortable:!1,class:"white--text"},{text:"Mes",value:"mes",sortable:!1,class:"white--text"},{text:"Generado",value:"generadoEl",sortable:!1,class:"white--text"},{text:"Usuario",value:"usuario",sortable:!1,class:"white--text"},{text:"Acciones",value:"acciones",sortable:!1,class:"white--text"}],D=()=>{a.push({path:"/home",query:{username:s.value||"Invitado",role:i.value||"Sin rol asignado"}})},H=()=>{const e={year:"numeric",month:"long"};k.value=new Intl.DateTimeFormat("es-ES",e).format(new Date(C.value))},U=()=>{H(),E.value=!1},T=async()=>{try{const{data:e}=await I.A.get("https://localhost:7239/api/informes/resumen-general");n.value=e.porcentajeOcupacion,r.value=e.ingresosMensuales,c.value=e.rendimiento}catch(e){console.error(e)}},$=async()=>{try{const{data:e}=await I.A.get("https://localhost:7239/api/informes");A.value=e.map((e=>({...e,generadoEl:new Date(e.generadoEl).toLocaleDateString("es-ES")})))}catch(e){console.error(e)}},M=async()=>{if(!p.value||!k.value)return alert("Selecciona tipo y mes.");const e={tipoInforme:p.value,mes:k.value,generadoEl:(new Date).toISOString(),usuario:s.value||"Invitado",comentario:V.value};try{await I.A.post("https://localhost:7239/api/informes",e),await $(),alert("Informe generado."),p.value="",k.value="",V.value=""}catch(a){console.error(a),alert("Error al generar informe.")}},q=async e=>{if(confirm("¿Eliminar este informe?"))try{await I.A.delete(`https://localhost:7239/api/informes/${e}`),await $(),alert("Informe eliminado.")}catch(a){console.error(a),alert("Error al eliminar informe.")}},B=e=>{const a=new Ee.Ay,t=new Image;t.src=m,t.onload=()=>{a.addImage(t,"PNG",160,10,30,30),a.setFontSize(16),a.text("Reporte de Hotel",20,30),a.setFontSize(12),a.text(`Tipo: ${e.tipoInforme}`,20,50),a.text(`Mes: ${e.mes}`,20,60),a.text(`Generado el: ${e.generadoEl}`,20,70),a.text(`Usuario: ${e.usuario}`,20,80),e.comentario&&a.text(`Comentario: ${e.comentario}`,20,90);let l=105;switch(e.tipoInforme){case"Ingresos":a.text(`Ingresos: $${r.value}`,20,l);break;case"Ocupación":a.text(`Ocupación: ${n.value}%`,20,l);break;case"Rendimiento":a.text(`Rendimiento: ${c.value}`,20,l);break;case"Total":a.text("Informe Total:",20,l),a.text(`• Ingresos: $${r.value}`,25,l+10),a.text(`• Ocupación: ${n.value}%`,25,l+20),a.text(`• Rendimiento: ${c.value}`,25,l+30);break}a.save(`Informe_${e.tipoInforme}_${e.mes}.pdf`)}};return(0,o.sV)((()=>{t.query.username?(s.value=t.query.username,localStorage.setItem("loggedInUser",s.value)):s.value=localStorage.getItem("loggedInUser")||"",t.query.role?(i.value=t.query.role,localStorage.setItem("userRole",i.value)):i.value=localStorage.getItem("userRole")||"",T(),$()})),(e,a)=>((0,o.uX)(),(0,o.Wv)(b.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(W.z,{app:"",color:"#1a1a1a",dark:"",height:"100"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:"",class:"d-flex align-center justify-space-between px-6"},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo","max-width":"60",contain:""}),a[7]||(a[7]=(0,o.Lk)("div",{class:"flex-grow-1 text-center"},[(0,o.Lk)("span",{class:"white--text font-weight-bold text-h6"},"Panel de Informes")],-1)),(0,o.bF)(h.D,{class:"custom-reservar-btn",onClick:D},{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.eW)("REGRESAR")]))),_:1})])),_:1})])),_:1}),(0,o.bF)(ue.Y,{class:"informes-fondo"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:"",class:"d-flex justify-center py-8"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"registro-card pa-6",elevation:"12","max-width":"1000"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Ae,[a[11]||(a[11]=(0,o.Lk)("h2",{class:"white--text text-h6 font-weight-medium text-center mb-4"}," Resumen General ",-1)),(0,o.bF)(ce.L,{dense:"",justify:"space-around"},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"12",md:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"stats-card"},{default:(0,o.k6)((()=>[a[8]||(a[8]=(0,o.Lk)("h3",{class:"white--text mb-2"},"Ocupación Total",-1)),(0,o.Lk)("p",Re,(0,u.v_)(n.value)+"%",1)])),_:1})])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"stats-card"},{default:(0,o.k6)((()=>[a[9]||(a[9]=(0,o.Lk)("h3",{class:"white--text mb-2"},"Ingresos Mensuales",-1)),(0,o.Lk)("p",De,"$"+(0,u.v_)(r.value),1)])),_:1})])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"stats-card"},{default:(0,o.k6)((()=>[a[10]||(a[10]=(0,o.Lk)("h3",{class:"white--text mb-2"},"Rendimiento Mensual",-1)),(0,o.Lk)("p",Se,(0,u.v_)(c.value),1)])),_:1})])),_:1})])),_:1})]),(0,o.Lk)("div",We,[a[14]||(a[14]=(0,o.Lk)("h2",{class:"white--text text-h6 font-weight-medium text-center mb-4"}," Generar Informes ",-1)),(0,o.bF)(_.n,{onSubmit:(0,l.D$)(M,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(ce.L,{dense:""},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"12",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(y.d4,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),items:["Ocupación","Ingresos","Rendimiento","Total"],label:"Tipo de Informe",outlined:"",dense:"",required:"",class:"custom-field"},null,8,["modelValue"])])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(L.W,{modelValue:k.value,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value=e),label:"Mes",readonly:"",onClick:a[2]||(a[2]=e=>E.value=!0),outlined:"",dense:"",required:"",class:"custom-field"},null,8,["modelValue"]),(0,o.bF)(v.p,{modelValue:E.value,"onUpdate:modelValue":a[4]||(a[4]=e=>E.value=e),"max-width":"290"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(Ie.f,{modelValue:C.value,"onUpdate:modelValue":a[3]||(a[3]=e=>C.value=e),type:"month",locale:"es"},null,8,["modelValue"]),(0,o.bF)(g.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(w.h),(0,o.bF)(h.D,{text:"",color:"primary",onClick:U},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)("Aceptar")]))),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(we.J,{modelValue:V.value,"onUpdate:modelValue":a[5]||(a[5]=e=>V.value=e),label:"Comentario",outlined:"",dense:"",rows:"1",class:"custom-field"},null,8,["modelValue"])])),_:1}),(0,o.bF)(de.B,{cols:"12",class:"text-center mt-4"},{default:(0,o.k6)((()=>[(0,o.bF)(h.D,{type:"submit",block:"",class:"custom-reservar-btn"},{default:(0,o.k6)((()=>a[13]||(a[13]=[(0,o.eW)(" Generar Informe ")]))),_:1})])),_:1})])),_:1})])),_:1})]),(0,o.Lk)("div",null,[a[17]||(a[17]=(0,o.Lk)("h2",{class:"white--text text-h6 font-weight-medium text-center mb-4"}," Informes Recientes ",-1)),(0,o.bF)(Ve.Py,{headers:R,items:A.value,dense:"","hide-default-footer":"",class:"transparent-table"},{"item.acciones":(0,o.k6)((({item:e})=>[(0,o.bF)(h.D,{icon:"",small:"",onClick:a=>B(e)},{default:(0,o.k6)((()=>[(0,o.bF)(O.w,{color:"yellow"},{default:(0,o.k6)((()=>a[15]||(a[15]=[(0,o.eW)("mdi-download")]))),_:1})])),_:2},1032,["onClick"]),(0,o.bF)(h.D,{icon:"",small:"",onClick:a=>q(e.id)},{default:(0,o.k6)((()=>[(0,o.bF)(O.w,{color:"red"},{default:(0,o.k6)((()=>a[16]||(a[16]=[(0,o.eW)("mdi-delete")]))),_:1})])),_:2},1032,["onClick"])])),_:1},8,["items"])])])),_:1})])),_:1})])),_:1})])),_:1}))}};const Ue=(0,n.A)(He,[["__scopeId","data-v-049d278c"]]);var Oe=Ue;function Te(e,a,t,s,i,n){return(0,o.uX)(),(0,o.Wv)(b.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(W.z,{app:"",color:"#1a1a1a",dark:"",height:"100"},{default:(0,o.k6)((()=>[(0,o.bF)(ce.L,{"no-gutters":"",align:"center",class:"w-100"},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"2",class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo",contain:"","max-width":"55"})])),_:1}),(0,o.bF)(de.B,{cols:"8",class:"text-center"},{default:(0,o.k6)((()=>a[5]||(a[5]=[(0,o.Lk)("span",{class:"white--text text-h5 font-weight-bold"}," Registro de Clientes ",-1)]))),_:1}),(0,o.bF)(de.B,{cols:"2",class:"d-flex justify-end"},{default:(0,o.k6)((()=>[(0,o.bF)(h.D,{class:"regresar-btn",onClick:n.goToHome},{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.eW)(" REGRESAR ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(ue.Y,{class:"registro-container"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:"",class:"d-flex justify-center"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"registro-card",elevation:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(p.r,{class:"registro-header text-h6 font-weight-medium text-center justify-center"},{default:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.eW)(" Nuevo Cliente ")]))),_:1}),(0,o.bF)(re.G),(0,o.bF)(k.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(_.n,{onSubmit:(0,l.D$)(n.registrarCliente,["prevent"]),ref:"form"},{default:(0,o.k6)((()=>[(0,o.bF)(ce.L,{class:"form-row d-flex flex-column align-center",dense:""},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(L.W,{modelValue:i.nombre,"onUpdate:modelValue":a[0]||(a[0]=e=>i.nombre=e),label:"Nombre","prepend-inner-icon":"mdi-account",outlined:"",dense:"",clearable:"",required:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(L.W,{modelValue:i.apellido,"onUpdate:modelValue":a[1]||(a[1]=e=>i.apellido=e),label:"Apellido","prepend-inner-icon":"mdi-account-outline",outlined:"",dense:"",clearable:"",required:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(L.W,{modelValue:i.telefono,"onUpdate:modelValue":a[2]||(a[2]=e=>i.telefono=e),label:"Teléfono","prepend-inner-icon":"mdi-phone",outlined:"",dense:"",clearable:"",rules:[e=>/^\d{10}$/.test(e)||"Debe tener 10 dígitos"],required:""},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(L.W,{modelValue:i.correo,"onUpdate:modelValue":a[3]||(a[3]=e=>i.correo=e),label:"Correo Electrónico","prepend-inner-icon":"mdi-email",outlined:"",dense:"",clearable:"",type:"email",rules:[e=>/.+@.+\..+/.test(e)||"Email inválido"],required:""},null,8,["modelValue","rules"])])),_:1}),(0,o.bF)(de.B,{cols:"12",class:"text-center mt-4"},{default:(0,o.k6)((()=>[(0,o.bF)(h.D,{type:"submit",class:"submit-btn",large:""},{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.eW)(" REGISTRAR CLIENTE ")]))),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1}),(0,o.bF)(C.K,{modelValue:i.snackbar,"onUpdate:modelValue":a[4]||(a[4]=e=>i.snackbar=e),timeout:3e3,color:i.snackbarColor},{default:(0,o.k6)((()=>[(0,o.eW)((0,u.v_)(i.snackbarMessage),1)])),_:1},8,["modelValue","color"])])),_:1})])),_:1})])),_:1})])),_:1})}var $e={name:"RegistroCliente",data(){return{nombre:"",apellido:"",telefono:"",correo:"",snackbar:!1,snackbarMessage:"",snackbarColor:"green",usuario:"",role:""}},methods:{goToHome(){this.$router.push({path:"/home",query:this.$route.query})},async registrarCliente(){if(!this.$refs.form.validate())return;const e={nombre:this.nombre,apellido:this.apellido,numero:this.telefono,correo:this.correo};try{const{data:a}=await I.A.post("https://hotelcost.somee.com/api/Clientes",e);this.snackbarMessage=a.message||"Cliente registrado con éxito",this.snackbarColor="green"}catch{this.snackbarMessage="Error al registrar cliente",this.snackbarColor="red"}finally{this.snackbar=!0,this.nombre=this.apellido=this.telefono=this.correo="",this.$refs.form.reset()}}},mounted(){const{username:e,role:a}=this.$route.query;this.usuario=e||"Invitado",this.role=a||"Sin rol asignado"}};const Me=(0,n.A)($e,[["render",Te],["__scopeId","data-v-85b82f8c"]]);var qe=Me;const Be={class:"card-header form-header"},Ne={class:"card-header occupied-header"},Pe={class:"mt-4"};function je(e,a,t,s,i,n){return(0,o.uX)(),(0,o.Wv)(b.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(W.z,{app:"",color:"#1a1a1a",dark:"",height:"80"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:"",class:"pa-0"},{default:(0,o.k6)((()=>[(0,o.bF)(ce.L,{"no-gutters":"",align:"center"},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"2",class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo",contain:"",height:"60"})])),_:1}),(0,o.bF)(de.B,{cols:"8",class:"text-center"},{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.Lk)("h2",{class:"white--text m-0"},"Registro de Reservas",-1)]))),_:1}),(0,o.bF)(de.B,{cols:"2",class:"d-flex justify-end"},{default:(0,o.k6)((()=>[(0,o.bF)(h.D,{class:"back-button",onClick:n.goToHome},{default:(0,o.k6)((()=>a[9]||(a[9]=[(0,o.eW)("REGRESAR")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(ue.Y,{class:"reservas-main pa-0"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:"",class:"pa-0"},{default:(0,o.k6)((()=>[(0,o.bF)(ce.L,{"no-gutters":"",justify:"center",align:"start",class:"cards-wrapper"},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"12",md:"5",class:"px-4"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"gest-card"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Be,[(0,o.bF)(O.w,{left:""},{default:(0,o.k6)((()=>a[10]||(a[10]=[(0,o.eW)("mdi-calendar-plus")]))),_:1}),a[11]||(a[11]=(0,o.Lk)("span",null,"Reservación",-1))]),(0,o.bF)(k.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(_.n,{onSubmit:(0,l.D$)(n.abrirConfirmacion,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(y.d4,{modelValue:i.cliente,"onUpdate:modelValue":a[0]||(a[0]=e=>i.cliente=e),items:i.clientes,"item-title":"nombreCompleto","item-value":"id",label:"Cliente",outlined:"",dense:"",required:"",class:"input-field"},null,8,["modelValue","items"]),(0,o.bF)(L.W,{modelValue:i.fechaInicio,"onUpdate:modelValue":a[1]||(a[1]=e=>i.fechaInicio=e),label:"Fecha de Inicio",type:"date",min:i.today,outlined:"",dense:"",required:"",class:"input-field"},null,8,["modelValue","min"]),(0,o.bF)(L.W,{modelValue:i.fechaFin,"onUpdate:modelValue":a[2]||(a[2]=e=>i.fechaFin=e),label:"Fecha de Fin",type:"date",min:i.fechaInicio||i.today,outlined:"",dense:"",required:"",class:"input-field"},null,8,["modelValue","min"]),(0,o.bF)(y.d4,{modelValue:i.estado,"onUpdate:modelValue":a[3]||(a[3]=e=>i.estado=e),items:i.estados,label:"Estado",outlined:"",dense:"",required:"",class:"input-field"},null,8,["modelValue","items"]),(0,o.bF)(y.d4,{modelValue:i.habitacion,"onUpdate:modelValue":[a[4]||(a[4]=e=>i.habitacion=e),n.actualizarTipo],items:i.habitaciones,"item-title":"habitacionDisplay","item-value":"id_Habitacion",label:"Habitación Disponible",outlined:"",dense:"",required:"",class:"input-field"},null,8,["modelValue","items","onUpdate:modelValue"]),(0,o.bF)(h.D,{block:"",type:"submit",class:"register-button mt-6",large:""},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)("Reservar")]))),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(de.B,{cols:"12",md:"6",class:"px-4"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{class:"gest-card"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Ne,[(0,o.bF)(O.w,{left:""},{default:(0,o.k6)((()=>a[13]||(a[13]=[(0,o.eW)("mdi-bed-outline")]))),_:1}),(0,o.Lk)("span",null,"Habitaciones Ocupadas ("+(0,u.v_)(i.habitacionesOcupadas.length)+")",1)]),(0,o.bF)(k.O,{class:"pa-0"},{default:(0,o.k6)((()=>[(0,o.bF)(Ve.Py,{headers:i.headersOcupadas,items:i.habitacionesOcupadas,class:"elevation-1","hide-default-header":"","hide-default-footer":"",dense:""},{"item.costo":(0,o.k6)((({item:e})=>[(0,o.eW)(" $"+(0,u.v_)(e.costo.toLocaleString("es-MX")),1)])),_:1},8,["headers","items"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(v.p,{modelValue:i.confirmacionDialog,"onUpdate:modelValue":a[6]||(a[6]=e=>i.confirmacionDialog=e),"max-width":"500"},{default:(0,o.k6)((()=>[(0,o.bF)(f.J,null,{default:(0,o.k6)((()=>[(0,o.bF)(p.r,{class:"text-h5 font-weight-bold"},{default:(0,o.k6)((()=>a[14]||(a[14]=[(0,o.eW)("Confirmar Reserva")]))),_:1}),(0,o.bF)(k.O,null,{default:(0,o.k6)((()=>[(0,o.Lk)("p",null,[a[15]||(a[15]=(0,o.Lk)("strong",null,"Cliente:",-1)),(0,o.eW)(" "+(0,u.v_)(i.nombreClienteSeleccionado),1)]),(0,o.Lk)("p",null,[a[16]||(a[16]=(0,o.Lk)("strong",null,"Habitación:",-1)),(0,o.eW)(" "+(0,u.v_)(i.habitacionSeleccionada?.numero_Habitacion)+" - "+(0,u.v_)(i.tipoSeleccionado),1)]),(0,o.Lk)("p",null,[a[17]||(a[17]=(0,o.Lk)("strong",null,"Estado:",-1)),(0,o.eW)(" "+(0,u.v_)(i.estado),1)]),(0,o.Lk)("p",null,[a[18]||(a[18]=(0,o.Lk)("strong",null,"Desde:",-1)),(0,o.eW)(" "+(0,u.v_)(i.fechaInicio),1)]),(0,o.Lk)("p",null,[a[19]||(a[19]=(0,o.Lk)("strong",null,"Hasta:",-1)),(0,o.eW)(" "+(0,u.v_)(i.fechaFin),1)]),(0,o.Lk)("p",Pe,[a[20]||(a[20]=(0,o.eW)(" Total a pagar: ")),(0,o.Lk)("strong",null,"$"+(0,u.v_)(i.costoTotal),1)])])),_:1}),(0,o.bF)(g.S,null,{default:(0,o.k6)((()=>[(0,o.bF)(w.h),(0,o.bF)(h.D,{text:"",onClick:n.confirmarReserva},{default:(0,o.k6)((()=>a[21]||(a[21]=[(0,o.eW)("Pagar y Reservar")]))),_:1},8,["onClick"]),(0,o.bF)(h.D,{text:"",onClick:a[5]||(a[5]=e=>i.confirmacionDialog=!1)},{default:(0,o.k6)((()=>a[22]||(a[22]=[(0,o.eW)("Cancelar")]))),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(C.K,{modelValue:i.snackbar,"onUpdate:modelValue":a[7]||(a[7]=e=>i.snackbar=e),timeout:"3000",color:"green"},{default:(0,o.k6)((()=>[(0,o.eW)((0,u.v_)(i.snackbarMessage),1)])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}var ze={name:"RegistroReservas",data(){return{username:"",role:"",cliente:null,clientes:[],fechaInicio:"",fechaFin:"",estado:"",habitacion:null,habitaciones:[],habitacionesOcupadas:[],headersOcupadas:[{text:"Habitación",value:"numero_Habitacion"},{text:"Estado",value:"estado_Actual"},{text:"Tipo",value:"tipo_Habitacion"},{text:"Precio",value:"costo"},{text:"Cliente",value:"nombreCliente"}],estados:["Pendiente","Confirmada","Cancelada"],confirmacionDialog:!1,tipoHabitacion:"",costoTotal:0,snackbar:!1,snackbarMessage:"",today:new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().split("T")[0],tipoSeleccionado:"",habitacionSeleccionada:null,nombreClienteSeleccionado:""}},methods:{goToHome(){this.$router.push({path:"/home",query:{username:this.username,role:this.role}})},async cargarHabitacionesDisponibles(){try{const e=await I.A.get("https://hotelcost.somee.com/api/Habitaciones/EstadosActualizados");this.habitaciones=e.data.filter((e=>"disponible"===e.estado_Actual.toLowerCase())).map((e=>({...e,habitacionDisplay:`#${e.numero_Habitacion} - ${e.tipo_Habitacion}`})))}catch(e){console.error("Error al obtener disponibles:",e)}},actualizarTipo(e){const a=this.habitaciones.find((a=>a.id_Habitacion===e));if(a){this.habitacionSeleccionada=a,this.tipoSeleccionado=a.tipo_Habitacion;const e={Sencilla:3500,Doble:8e3,Suite:18e3};this.costoTotal=e[a.tipo_Habitacion]||0}},async cargarHabitacionesOcupadas(){try{const e=await I.A.get("https://hotelcost.somee.com/api/Reservacion/OcupadasConCliente");this.habitacionesOcupadas=e.data}catch(e){console.error("Error al obtener ocupadas:",e)}},async cargarClientes(){try{const e=await I.A.get("https://hotelcost.somee.com/api/Clientes"),a=this.habitacionesOcupadas.map((e=>e.nombreCliente?.toLowerCase()));this.clientes=e.data.map((e=>({id:e.id,nombreCompleto:`${e.nombre} ${e.apellido}`}))).filter((e=>!a.includes(e.nombreCompleto.toLowerCase())))}catch(e){console.error("Error al obtener clientes:",e)}},abrirConfirmacion(){if(!this.cliente||!this.fechaInicio||!this.fechaFin||!this.estado||!this.habitacion)return this.snackbarMessage="Por favor, completa todos los campos.",void(this.snackbar=!0);const e=this.clientes.find((e=>e.id===this.cliente));this.nombreClienteSeleccionado=e?e.nombreCompleto:"",this.confirmacionDialog=!0},confirmarReserva(){if(!this.habitacionSeleccionada)return this.snackbarMessage="Habitación no válida.",void(this.snackbar=!0);const e={Numero_Habitacion:this.habitacionSeleccionada.numero_Habitacion,Numero_Cliente:this.cliente,FechaInicio:this.fechaInicio,FechaFinal:this.fechaFin,EstadoReserva:this.estado,Costo:this.costoTotal};I.A.post("https://hotelcost.somee.com/api/Reservacion",e).then((()=>I.A.put("https://hotelcost.somee.com/api/Habitaciones/ActualizarEstado",{Numero_Habitacion:this.habitacionSeleccionada.numero_Habitacion,Estado_Actual:"Ocupada"}))).then((()=>{this.snackbarMessage="Reserva registrada con éxito.",this.snackbar=!0,this.confirmacionDialog=!1,this.resetFormulario(),this.cargarHabitacionesOcupadas()})).catch((e=>{console.error("❌ Error al registrar reserva:",e),this.snackbarMessage="Error al registrar la reserva.",this.snackbar=!0}))},resetFormulario(){this.cliente=null,this.fechaInicio="",this.fechaFin="",this.estado="",this.habitacion=null,this.tipoHabitacion="",this.costoTotal=0,this.cargarHabitacionesDisponibles(),this.habitacionSeleccionada=null,this.tipoSeleccionado="",this.nombreClienteSeleccionado=""}},mounted(){const e=this.$route.query;this.username=e.username||"Invitado",this.role=e.role||"Sin rol asignado",this.cargarHabitacionesDisponibles(),this.cargarHabitacionesOcupadas(),this.cargarClientes()}};const Ke=(0,n.A)(ze,[["render",je],["__scopeId","data-v-2ee1060a"]]);var Xe=Ke;const Ge={key:0,class:"text-center text-grey--text"};function Je(e,a,t,l,s,i){const n=(0,o.g2)("v-list-item-avatar"),r=(0,o.g2)("v-list-item-content"),c=(0,o.g2)("v-list-item-icon");return(0,o.uX)(),(0,o.Wv)(b.E,null,{default:(0,o.k6)((()=>[(0,o.bF)(W.z,{app:"",color:"#1a1a1a",dark:""},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,{fluid:"",class:"d-flex align-center justify-space-between px-4"},{default:(0,o.k6)((()=>[(0,o.bF)(ne.Z,{class:"d-sm-none d-md-none",onClick:a[0]||(a[0]=e=>s.drawer=!0)}),(0,o.bF)(ce.L,{class:"align-center flex-grow-1"},{default:(0,o.k6)((()=>[(0,o.bF)(de.B,{cols:"auto",class:"d-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo","max-width":"60","max-height":"60"})])),_:1}),(0,o.bF)(de.B,{cols:"auto",class:"d-flex align-center"},{default:(0,o.k6)((()=>a[2]||(a[2]=[(0,o.Lk)("h1",{class:"white--text text-h6 font-weight-bold mb-0"}," Historial de Habitaciones Reservadas ",-1)]))),_:1})])),_:1}),(0,o.bF)(ce.L,{class:"d-none d-sm-flex align-center"},{default:(0,o.k6)((()=>[(0,o.bF)(h.D,{class:"btn-regresar",onClick:i.goBack},{default:(0,o.k6)((()=>a[3]||(a[3]=[(0,o.eW)(" REGRESAR ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(q.e,{modelValue:s.drawer,"onUpdate:modelValue":a[1]||(a[1]=e=>s.drawer=e),app:"",temporary:"",class:"d-sm-flex d-md-flex d-lg-none"},{default:(0,o.k6)((()=>[(0,o.bF)(T.x8,{nav:"",dense:""},{default:(0,o.k6)((()=>[(0,o.bF)($.g,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,null,{default:(0,o.k6)((()=>[(0,o.bF)(x.y,{src:m,alt:"Logo"})])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.U,{class:"font-weight-bold"},{default:(0,o.k6)((()=>a[4]||(a[4]=[(0,o.eW)(" Menú ")]))),_:1})])),_:1})])),_:1}),(0,o.bF)(re.G,{class:"my-2"}),(0,o.bF)($.g,{onClick:i.handleDrawerBack},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(O.w,null,{default:(0,o.k6)((()=>a[5]||(a[5]=[(0,o.eW)("mdi-arrow-left-bold")]))),_:1})])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(M.U,null,{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.eW)("Regresar")]))),_:1})])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(ue.Y,{class:"historial-container"},{default:(0,o.k6)((()=>[(0,o.bF)(F.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(f.J,{elevation:"8",class:"pa-4"},{default:(0,o.k6)((()=>[a[16]||(a[16]=(0,o.Lk)("h2",{class:"text-h6 font-weight-bold text-center mb-4"}," Historial de Habitaciones Reservadas ",-1)),0===s.historial.length?((0,o.uX)(),(0,o.CE)("div",Ge," No hay datos en el historial. ")):((0,o.uX)(),(0,o.Wv)(Ve.Py,{key:1,headers:s.headers,items:s.historial,class:"elevation-1 historial-table",dense:"","sort-by":["fecha_Cambio"],"sort-desc":[!0],"items-per-page":10},{"item.id_Habitacion":(0,o.k6)((({item:e})=>[a[7]||(a[7]=(0,o.Lk)("span",{class:"font-weight-bold"},"ID:",-1)),(0,o.eW)(" "+(0,u.v_)(e.id_Habitacion||"N/A"),1)])),"item.numero_Habitacion":(0,o.k6)((({item:e})=>[a[8]||(a[8]=(0,o.Lk)("span",{class:"font-weight-bold"},"Habitación:",-1)),(0,o.eW)(" "+(0,u.v_)(e.numero_Habitacion||"N/A"),1)])),"item.fecha_Entrada":(0,o.k6)((({item:e})=>[(0,o.Lk)("div",null,[a[9]||(a[9]=(0,o.Lk)("span",{class:"font-weight-bold"},"Entrada:",-1)),a[10]||(a[10]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)(" "+(0,u.v_)(i.formatDate(e.fecha_Entrada)||"N/A"),1)])])),"item.fecha_Salida":(0,o.k6)((({item:e})=>[(0,o.Lk)("div",null,[a[11]||(a[11]=(0,o.Lk)("span",{class:"font-weight-bold"},"Salida:",-1)),a[12]||(a[12]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)(" "+(0,u.v_)(i.formatDate(e.fecha_Salida)||"N/A"),1)])])),"item.fecha_Cambio":(0,o.k6)((({item:e})=>[(0,o.Lk)("div",null,[a[13]||(a[13]=(0,o.Lk)("span",{class:"font-weight-bold"},"Reserva:",-1)),a[14]||(a[14]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)(" "+(0,u.v_)(i.formatDate(e.fecha_Cambio)||"N/A"),1)])])),"item.usuario_Modificacion":(0,o.k6)((({item:e})=>[a[15]||(a[15]=(0,o.Lk)("span",{class:"font-weight-bold"},"Usuario:",-1)),(0,o.eW)(" "+(0,u.v_)(e.usuario_Modificacion||"N/A"),1)])),_:1},8,["headers","items"]))])),_:1})])),_:1})])),_:1})])),_:1})}var Ye={name:"HistorialHabitacionesView",data(){return{historial:[],headers:[{text:"ID Habitación",value:"id_Habitacion",width:"120px"},{text:"Número",value:"numero_Habitacion",width:"120px"},{text:"Fechas de Estancia",value:"fecha_Entrada",width:"200px"},{text:"Fecha de Salida",value:"fecha_Salida",width:"200px"},{text:"Fecha de Reserva",value:"fecha_Cambio",width:"200px"},{text:"Usuario",value:"usuario_Modificacion",width:"150px"}],drawer:!1}},methods:{goBack(){this.$router.push({path:"/habitaciones",query:{username:this.$route.query.username,role:this.$route.query.role}})},handleDrawerBack(){this.drawer=!1,setTimeout((()=>{this.goBack()}),200)},async cargarHistorial(){try{const e=await I.A.get("https://localhost:7239/api/Reservacion/HistorialReservas");console.log("Datos recibidos:",e.data),this.historial=e.data.map((e=>({...e,id_Habitacion:e.id_Habitacion||"N/A",numero_Habitacion:e.numero_Habitacion||"N/A",usuario_Modificacion:e.usuario_Modificacion||"Usuario no especificado"})))}catch(e){console.error("❌ Error al cargar historial:",e)}},formatDate(e){if(!e)return"N/A";const a=new Date(e);return isNaN(a.getTime())?"Fecha inválida":a.toLocaleString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}},mounted(){this.cargarHistorial()}};const Qe=(0,n.A)(Ye,[["render",Je],["__scopeId","data-v-5775cc90"]]);var Ze=Qe;const ea=[{path:"/",name:"Login",component:D},{path:"/home",name:"Home",component:ie},{path:"/habitaciones",name:"Habitaciones",component:Fe},{path:"/tareas",name:"Tareas",component:Le},{path:"/informes",name:"Informes",component:Oe},{path:"/historial-habitaciones",name:"Historial",component:Ze},{path:"/clientes",name:"Cliente",component:qe},{path:"/resevaciones",name:"Reservaciones",component:Xe}],aa=(0,d.aE)({history:(0,d.Bt)(),routes:ea});var ta=aa,la=(t(5524),t(7768)),oa=t(8221),sa=t(8253),ia=t(4818),na=t(9130);const ra=(0,la.$N)({icons:{defaultSet:"mdi",aliases:oa.z,sets:{mdi:oa.r}}}),ca=(0,l.Ef)(c);console.log("🟢 App iniciando..."),ca.use(ta),ca.use(ra),ca.use(sa.Ay),ca.component("PvAvatar",na.A),ca.component("PrimeGalleria",ia.A);try{ca.mount("#app"),console.log("✅ App montada correctamente")}catch(da){console.error("❌ Error al montar la app:",da)}},3902:function(e,a,t){e.exports=t.p+"img/logotiopo.f578479b.png"}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var s=a[l]={exports:{}};return e[l].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,l,o,s){if(!l){var i=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],s=e[d][2];for(var n=!0,r=0;r<l.length;r++)(!1&s||i>=s)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(n=!1,s<i&&(i=s));if(n){e.splice(d--,1);var c=o();void 0!==c&&(a=c)}}return a}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[l,o,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){var e,a=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(l,o){if(1&o&&(l=this(l)),8&o)return l;if("object"===typeof l&&l){if(4&o&&l.__esModule)return l;if(16&o&&"function"===typeof l.then)return l}var s=Object.create(null);t.r(s);var i={};e=e||[null,a({}),a([]),a(a)];for(var n=2&o&&l;"object"==typeof n&&!~e.indexOf(n);n=a(n))Object.getOwnPropertyNames(n).forEach((function(e){i[e]=function(){return l[e]}}));return i["default"]=function(){return l},t.d(s,i),s}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(a,l){return t.f[l](e,a),a}),[]))}}(),function(){t.u=function(e){return"js/"+e+"."+{125:"b1a67adf",353:"7ae9df21",427:"35553364"}[e]+".js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="hotelcost:";t.l=function(l,o,s,i){if(e[l])e[l].push(o);else{var n,r;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==l||u.getAttribute("data-webpack")==a+s){n=u;break}}n||(r=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,t.nc&&n.setAttribute("nonce",t.nc),n.setAttribute("data-webpack",a+s),n.src=l),e[l]=[o];var m=function(a,t){n.onerror=n.onload=null,clearTimeout(b);var o=e[l];if(delete e[l],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(t)})),a)return a(t)},b=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),r&&document.head.appendChild(n)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p=""}(),function(){var e={524:0};t.f.j=function(a,l){var o=t.o(e,a)?e[a]:void 0;if(0!==o)if(o)l.push(o[2]);else{var s=new Promise((function(t,l){o=e[a]=[t,l]}));l.push(o[2]=s);var i=t.p+t.u(a),n=new Error,r=function(l){if(t.o(e,a)&&(o=e[a],0!==o&&(e[a]=void 0),o)){var s=l&&("load"===l.type?"missing":l.type),i=l&&l.target&&l.target.src;n.message="Loading chunk "+a+" failed.\n("+s+": "+i+")",n.name="ChunkLoadError",n.type=s,n.request=i,o[1](n)}};t.l(i,r,"chunk-"+a,a)}},t.O.j=function(a){return 0===e[a]};var a=function(a,l){var o,s,i=l[0],n=l[1],r=l[2],c=0;if(i.some((function(a){return 0!==e[a]}))){for(o in n)t.o(n,o)&&(t.m[o]=n[o]);if(r)var d=r(t)}for(a&&a(l);c<i.length;c++)s=i[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},l=self["webpackChunkhotelcost"]=self["webpackChunkhotelcost"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(5822)}));l=t.O(l)})();
//# sourceMappingURL=app.c04ea79b.js.map